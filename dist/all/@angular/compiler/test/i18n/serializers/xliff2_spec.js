"use strict";
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = require("@angular/compiler/src/util");
var digest_1 = require("../../../src/i18n/digest");
var message_bundle_1 = require("../../../src/i18n/message_bundle");
var xliff2_1 = require("../../../src/i18n/serializers/xliff2");
var html_parser_1 = require("../../../src/ml_parser/html_parser");
var interpolation_config_1 = require("../../../src/ml_parser/interpolation_config");
var HTML = "\n<p i18n-title title=\"translatable attribute\">not translatable</p>\n<p i18n>translatable element <b>with placeholders</b> {{ interpolation}}</p>\n<!-- i18n -->{ count, plural, =0 {<p>test</p>}}<!-- /i18n -->\n<p i18n=\"m|d@@i\">foo</p>\n<p i18n=\"nested\"><b><u>{{interpolation}} Text</u></b></p>\n<p i18n=\"ph names\"><br><img src=\"1.jpg\"><img src=\"2.jpg\"></p>\n<p i18n=\"empty element\">hello <span></span></p>\n<p i18n=\"@@baz\">{ count, plural, =0 { { sex, select, other {<p>deeply nested</p>}} }}</p>\n<p i18n>Test: { count, plural, =0 { { sex, select, other {<p>deeply nested</p>}} } =other {a lot}}</p>\n<p i18n>multi\nlines</p>\n";
var WRITE_XLIFF = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<xliff version=\"2.0\" xmlns=\"urn:oasis:names:tc:xliff:document:2.0\" srcLang=\"en\">\n  <file original=\"ng.template\" id=\"ngi18n\">\n    <unit id=\"1933478729560469763\">\n      <notes>\n        <note category=\"location\">file.ts:2</note>\n      </notes>\n      <segment>\n        <source>translatable attribute</source>\n      </segment>\n    </unit>\n    <unit id=\"7056919470098446707\">\n      <notes>\n        <note category=\"location\">file.ts:3</note>\n      </notes>\n      <segment>\n        <source>translatable element <pc id=\"0\" equivStart=\"START_BOLD_TEXT\" equivEnd=\"CLOSE_BOLD_TEXT\" type=\"fmt\" dispStart=\"&lt;b&gt;\" dispEnd=\"&lt;/b&gt;\">with placeholders</pc> <ph id=\"1\" equiv=\"INTERPOLATION\" disp=\"{{ interpolation}}\"/></source>\n      </segment>\n    </unit>\n    <unit id=\"2981514368455622387\">\n      <notes>\n        <note category=\"location\">file.ts:4</note>\n      </notes>\n      <segment>\n        <source>{VAR_PLURAL, plural, =0 {<pc id=\"0\" equivStart=\"START_PARAGRAPH\" equivEnd=\"CLOSE_PARAGRAPH\" type=\"other\" dispStart=\"&lt;p&gt;\" dispEnd=\"&lt;/p&gt;\">test</pc>} }</source>\n      </segment>\n    </unit>\n    <unit id=\"i\">\n      <notes>\n        <note category=\"description\">d</note>\n        <note category=\"meaning\">m</note>\n        <note category=\"location\">file.ts:5</note>\n      </notes>\n      <segment>\n        <source>foo</source>\n      </segment>\n    </unit>\n    <unit id=\"6440235004920703622\">\n      <notes>\n        <note category=\"description\">nested</note>\n        <note category=\"location\">file.ts:6</note>\n      </notes>\n      <segment>\n        <source><pc id=\"0\" equivStart=\"START_BOLD_TEXT\" equivEnd=\"CLOSE_BOLD_TEXT\" type=\"fmt\" dispStart=\"&lt;b&gt;\" dispEnd=\"&lt;/b&gt;\"><pc id=\"1\" equivStart=\"START_UNDERLINED_TEXT\" equivEnd=\"CLOSE_UNDERLINED_TEXT\" type=\"fmt\" dispStart=\"&lt;u&gt;\" dispEnd=\"&lt;/u&gt;\"><ph id=\"2\" equiv=\"INTERPOLATION\" disp=\"{{interpolation}}\"/> Text</pc></pc></source>\n      </segment>\n    </unit>\n    <unit id=\"8779402634269838862\">\n      <notes>\n        <note category=\"description\">ph names</note>\n        <note category=\"location\">file.ts:7</note>\n      </notes>\n      <segment>\n        <source><ph id=\"0\" equiv=\"LINE_BREAK\" type=\"fmt\" disp=\"&lt;br/&gt;\"/><ph id=\"1\" equiv=\"TAG_IMG\" type=\"image\" disp=\"&lt;img/&gt;\"/><ph id=\"2\" equiv=\"TAG_IMG_1\" type=\"image\" disp=\"&lt;img/&gt;\"/></source>\n      </segment>\n    </unit>\n    <unit id=\"6536355551500405293\">\n      <notes>\n        <note category=\"description\">empty element</note>\n        <note category=\"location\">file.ts:8</note>\n      </notes>\n      <segment>\n        <source>hello <pc id=\"0\" equivStart=\"START_TAG_SPAN\" equivEnd=\"CLOSE_TAG_SPAN\" type=\"other\" dispStart=\"&lt;span&gt;\" dispEnd=\"&lt;/span&gt;\"></pc></source>\n      </segment>\n    </unit>\n    <unit id=\"baz\">\n      <notes>\n        <note category=\"location\">file.ts:9</note>\n      </notes>\n      <segment>\n        <source>{VAR_PLURAL, plural, =0 {{VAR_SELECT, select, other {<pc id=\"0\" equivStart=\"START_PARAGRAPH\" equivEnd=\"CLOSE_PARAGRAPH\" type=\"other\" dispStart=\"&lt;p&gt;\" dispEnd=\"&lt;/p&gt;\">deeply nested</pc>} } } }</source>\n      </segment>\n    </unit>\n    <unit id=\"6997386649824869937\">\n      <notes>\n        <note category=\"location\">file.ts:10</note>\n      </notes>\n      <segment>\n        <source>Test: <ph id=\"0\" equiv=\"ICU\" disp=\"{ count, plural, =0 {...} =other {...}}\"/></source>\n      </segment>\n    </unit>\n    <unit id=\"5229984852258993423\">\n      <notes>\n        <note category=\"location\">file.ts:10</note>\n      </notes>\n      <segment>\n        <source>{VAR_PLURAL, plural, =0 {{VAR_SELECT, select, other {<pc id=\"0\" equivStart=\"START_PARAGRAPH\" equivEnd=\"CLOSE_PARAGRAPH\" type=\"other\" dispStart=\"&lt;p&gt;\" dispEnd=\"&lt;/p&gt;\">deeply nested</pc>} } } =other {a lot} }</source>\n      </segment>\n    </unit>\n    <unit id=\"2340165783990709777\">\n      <notes>\n        <note category=\"location\">file.ts:11,12</note>\n      </notes>\n      <segment>\n        <source>multi\nlines</source>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n";
var LOAD_XLIFF = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<xliff version=\"2.0\" xmlns=\"urn:oasis:names:tc:xliff:document:2.0\" srcLang=\"en\" trgLang=\"fr\">\n  <file original=\"ng.template\" id=\"ngi18n\">\n    <unit id=\"1933478729560469763\">\n      <notes>\n        <note category=\"location\">file.ts:2</note>\n      </notes>\n      <segment>\n        <source>translatable attribute</source>\n        <target>etubirtta elbatalsnart</target>\n      </segment>\n    </unit>\n    <unit id=\"7056919470098446707\">\n      <notes>\n        <note category=\"location\">file.ts:3</note>\n      </notes>\n      <segment>\n        <source>translatable element <pc id=\"0\" equivStart=\"START_BOLD_TEXT\" equivEnd=\"CLOSE_BOLD_TEXT\" type=\"fmt\" dispStart=\"&lt;b&gt;\" dispEnd=\"&lt;/b&gt;\">with placeholders</pc> <ph id=\"1\" equiv=\"INTERPOLATION\" disp=\"{{ interpolation}}\"/></source>\n        <target><ph id=\"1\" equiv=\"INTERPOLATION\" disp=\"{{ interpolation}}\"/> <pc id=\"0\" equivStart=\"START_BOLD_TEXT\" equivEnd=\"CLOSE_BOLD_TEXT\" type=\"fmt\" dispStart=\"&lt;b&gt;\" dispEnd=\"&lt;/b&gt;\">sredlohecalp htiw</pc> tnemele elbatalsnart</target>\n      </segment>\n    </unit>\n    <unit id=\"2981514368455622387\">\n      <notes>\n        <note category=\"location\">file.ts:4</note>\n      </notes>\n      <segment>\n        <source>{VAR_PLURAL, plural, =0 {<pc id=\"0\" equivStart=\"START_PARAGRAPH\" equivEnd=\"CLOSE_PARAGRAPH\" type=\"other\" dispStart=\"&lt;p&gt;\" dispEnd=\"&lt;/p&gt;\">test</pc>} }</source>\n        <target>{VAR_PLURAL, plural, =0 {<pc id=\"0\" equivStart=\"START_PARAGRAPH\" equivEnd=\"CLOSE_PARAGRAPH\" type=\"other\" dispStart=\"&lt;p&gt;\" dispEnd=\"&lt;/p&gt;\">TEST</pc>} }</target>\n      </segment>\n    </unit>\n    <unit id=\"i\">\n      <notes>\n        <note category=\"description\">d</note>\n        <note category=\"meaning\">m</note>\n        <note category=\"location\">file.ts:5</note>\n      </notes>\n      <segment>\n        <source>foo</source>\n        <target>oof</target>\n      </segment>\n    </unit>\n    <unit id=\"6440235004920703622\">\n      <notes>\n        <note category=\"description\">nested</note>\n        <note category=\"location\">file.ts:6</note>\n      </notes>\n      <segment>\n        <source><pc id=\"0\" equivStart=\"START_BOLD_TEXT\" equivEnd=\"CLOSE_BOLD_TEXT\" type=\"fmt\" dispStart=\"&lt;b&gt;\" dispEnd=\"&lt;/b&gt;\"><pc id=\"1\" equivStart=\"START_UNDERLINED_TEXT\" equivEnd=\"CLOSE_UNDERLINED_TEXT\" type=\"fmt\" dispStart=\"&lt;u&gt;\" dispEnd=\"&lt;/u&gt;\"><ph id=\"2\" equiv=\"INTERPOLATION\" disp=\"{{interpolation}}\"/> Text</pc></pc></source>\n        <target><pc id=\"0\" equivStart=\"START_BOLD_TEXT\" equivEnd=\"CLOSE_BOLD_TEXT\" type=\"fmt\" dispStart=\"&lt;b&gt;\" dispEnd=\"&lt;/b&gt;\"><pc id=\"1\" equivStart=\"START_UNDERLINED_TEXT\" equivEnd=\"CLOSE_UNDERLINED_TEXT\" type=\"fmt\" dispStart=\"&lt;u&gt;\" dispEnd=\"&lt;/u&gt;\">txeT <ph id=\"2\" equiv=\"INTERPOLATION\" disp=\"{{interpolation}}\"/></pc></pc></target>\n      </segment>\n    </unit>\n    <unit id=\"8779402634269838862\">\n      <notes>\n        <note category=\"description\">ph names</note>\n        <note category=\"location\">file.ts:7</note>\n      </notes>\n      <segment>\n        <source><ph id=\"0\" equiv=\"LINE_BREAK\" type=\"fmt\" disp=\"&lt;br/&gt;\"/><ph id=\"1\" equiv=\"TAG_IMG\" type=\"image\" disp=\"&lt;img/&gt;\"/><ph id=\"2\" equiv=\"TAG_IMG_1\" type=\"image\" disp=\"&lt;img/&gt;\"/></source>\n        <target><ph id=\"2\" equiv=\"TAG_IMG_1\" type=\"image\" disp=\"&lt;img/&gt;\"/><ph id=\"1\" equiv=\"TAG_IMG\" type=\"image\" disp=\"&lt;img/&gt;\"/><ph id=\"0\" equiv=\"LINE_BREAK\" type=\"fmt\" disp=\"&lt;br/&gt;\"/></target>\n      </segment>\n    </unit>\n    <unit id=\"6536355551500405293\">\n      <notes>\n        <note category=\"description\">empty element</note>\n        <note category=\"location\">file.ts:8</note>\n      </notes>\n      <segment>\n        <source>hello <pc id=\"0\" equivStart=\"START_TAG_SPAN\" equivEnd=\"CLOSE_TAG_SPAN\" type=\"other\" dispStart=\"&lt;span&gt;\" dispEnd=\"&lt;/span&gt;\"></pc></source>\n        <target><pc id=\"0\" equivStart=\"START_TAG_SPAN\" equivEnd=\"CLOSE_TAG_SPAN\" type=\"other\" dispStart=\"&lt;span&gt;\" dispEnd=\"&lt;/span&gt;\"></pc> olleh</target>\n      </segment>\n    </unit>\n    <unit id=\"baz\">\n      <notes>\n        <note category=\"location\">file.ts:9</note>\n      </notes>\n      <segment>\n        <source>{VAR_PLURAL, plural, =0 {{VAR_SELECT, select, other {<pc id=\"0\" equivStart=\"START_PARAGRAPH\" equivEnd=\"CLOSE_PARAGRAPH\" type=\"other\" dispStart=\"&lt;p&gt;\" dispEnd=\"&lt;/p&gt;\">deeply nested</pc>} } } }</source>\n        <target>{VAR_PLURAL, plural, =0 {{VAR_SELECT, select, other {<pc id=\"0\" equivStart=\"START_PARAGRAPH\" equivEnd=\"CLOSE_PARAGRAPH\" type=\"other\" dispStart=\"&lt;p&gt;\" dispEnd=\"&lt;/p&gt;\">profond\u00E9ment imbriqu\u00E9</pc>} } } }</target>\n      </segment>\n    </unit>\n    <unit id=\"6997386649824869937\">\n      <notes>\n        <note category=\"location\">file.ts:10</note>\n      </notes>\n      <segment>\n        <source>Test: <ph id=\"0\" equiv=\"ICU\" disp=\"{ count, plural, =0 {...} =other {...}}\"/></source>\n        <target>Test: <ph id=\"0\" equiv=\"ICU\" disp=\"{ count, plural, =0 {...} =other {...}}\"/></target>\n      </segment>\n    </unit>\n    <unit id=\"5229984852258993423\">\n      <notes>\n        <note category=\"location\">file.ts:10</note>\n      </notes>\n      <segment>\n        <source>{VAR_PLURAL, plural, =0 {{VAR_SELECT, select, other {<pc id=\"0\" equivStart=\"START_PARAGRAPH\" equivEnd=\"CLOSE_PARAGRAPH\" type=\"other\" dispStart=\"&lt;p&gt;\" dispEnd=\"&lt;/p&gt;\">deeply nested</pc>} } } =other {a lot} }</source>\n        <target>{VAR_PLURAL, plural, =0 {{VAR_SELECT, select, other {<pc id=\"0\" equivStart=\"START_PARAGRAPH\" equivEnd=\"CLOSE_PARAGRAPH\" type=\"other\" dispStart=\"&lt;p&gt;\" dispEnd=\"&lt;/p&gt;\">profond\u00E9ment imbriqu\u00E9</pc>} } } =other {beaucoup} }</target>\n      </segment>\n    </unit>\n    <unit id=\"2340165783990709777\">\n      <notes>\n        <note category=\"location\">file.ts:11,12</note>\n      </notes>\n      <segment>\n        <source>multi\nlines</source>\n        <target>multi\nlignes</target>\n      </segment>\n    </unit>\n    <unit id=\"mrk-test\">\n     <notes>\n      <note id=\"n1\" appliesTo=\"target\">Please check the translation for 'namespace'. On also can use 'espace de nom',but I think most technical manuals use the English term.</note>\n     </notes>\n     <segment>\n      <source>You use your own namespace.</source>\n      <target>Vous pouvez utiliser votre propre <mrk id=\"m1\" type=\"comment\" ref=\"#n1\">namespace</mrk>.</target>\n     </segment>\n    </unit>\n    <unit id=\"mrk-test2\">\n     <notes>\n      <note id=\"n1\" appliesTo=\"target\">Please check the translation for 'namespace'. On also can use 'espace de nom',but I think most technical manuals use the English term.</note>\n     </notes>\n     <segment>\n      <source>You use your own namespace.</source>\n      <target>Vous pouvez utiliser <mrk id=\"m1\" type=\"comment\" ref=\"#n1\">votre propre <mrk id=\"m2\" type=\"comment\" ref=\"#n1\">namespace</mrk></mrk>.</target>\n     </segment>\n    </unit>\n  </file>\n</xliff>\n";
(function () {
    var serializer = new xliff2_1.Xliff2();
    function toXliff(html, locale) {
        if (locale === void 0) { locale = null; }
        var catalog = new message_bundle_1.MessageBundle(new html_parser_1.HtmlParser, [], {}, locale);
        catalog.updateFromTemplate(html, 'file.ts', interpolation_config_1.DEFAULT_INTERPOLATION_CONFIG);
        return catalog.write(serializer);
    }
    function loadAsMap(xliff) {
        var i18nNodesByMsgId = serializer.load(xliff, 'url').i18nNodesByMsgId;
        var msgMap = {};
        Object.keys(i18nNodesByMsgId)
            .forEach(function (id) { return msgMap[id] = digest_1.serializeNodes(i18nNodesByMsgId[id]).join(''); });
        return msgMap;
    }
    describe('XLIFF 2.0 serializer', function () {
        describe('write', function () {
            it('should write a valid xliff 2.0 file', function () { expect(toXliff(HTML)).toEqual(WRITE_XLIFF); });
            it('should write a valid xliff 2.0 file with a source language', function () { expect(toXliff(HTML, 'fr')).toContain('srcLang="fr"'); });
        });
        describe('load', function () {
            it('should load XLIFF files', function () {
                expect(loadAsMap(LOAD_XLIFF)).toEqual({
                    '1933478729560469763': 'etubirtta elbatalsnart',
                    '7056919470098446707': '<ph name="INTERPOLATION"/> <ph name="START_BOLD_TEXT"/>sredlohecalp htiw<ph name="CLOSE_BOLD_TEXT"/> tnemele elbatalsnart',
                    '2981514368455622387': '{VAR_PLURAL, plural, =0 {[<ph name="START_PARAGRAPH"/>, TEST, <ph name="CLOSE_PARAGRAPH"/>]}}',
                    'i': 'oof',
                    '6440235004920703622': '<ph name="START_BOLD_TEXT"/><ph name="START_UNDERLINED_TEXT"/>txeT <ph name="INTERPOLATION"/><ph name="CLOSE_UNDERLINED_TEXT"/><ph name="CLOSE_BOLD_TEXT"/>',
                    '8779402634269838862': '<ph name="TAG_IMG_1"/><ph name="TAG_IMG"/><ph name="LINE_BREAK"/>',
                    '6536355551500405293': '<ph name="START_TAG_SPAN"/><ph name="CLOSE_TAG_SPAN"/> olleh',
                    'baz': '{VAR_PLURAL, plural, =0 {[{VAR_SELECT, select, other {[<ph name="START_PARAGRAPH"/>, profondément imbriqué, <ph name="CLOSE_PARAGRAPH"/>]}},  ]}}',
                    '6997386649824869937': 'Test: <ph name="ICU"/>',
                    '5229984852258993423': '{VAR_PLURAL, plural, =0 {[{VAR_SELECT, select, other {[<ph' +
                        ' name="START_PARAGRAPH"/>, profondément imbriqué, <ph name="CLOSE_PARAGRAPH"/>]}},  ]}, =other {[beaucoup]}}',
                    '2340165783990709777': "multi\nlignes",
                    'mrk-test': 'Vous pouvez utiliser votre propre namespace.',
                    'mrk-test2': 'Vous pouvez utiliser votre propre namespace.'
                });
            });
            it('should return the target locale', function () { expect(serializer.load(LOAD_XLIFF, 'url').locale).toEqual('fr'); });
        });
        describe('structure errors', function () {
            it('should throw when a wrong xliff version is used', function () {
                var XLIFF = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<xliff version=\"1.2\" xmlns=\"urn:oasis:names:tc:xliff:document:1.2\">\n  <file source-language=\"en\" datatype=\"plaintext\" original=\"ng2.template\">\n    <body>\n      <trans-unit id=\"deadbeef\">\n        <source/>\n        <target/>\n      </trans-unit>\n    </body>\n  </file>\n</xliff>";
                expect(function () {
                    loadAsMap(XLIFF);
                }).toThrowError(/The XLIFF file version 1.2 is not compatible with XLIFF 2.0 serializer/);
            });
            it('should throw when an unit has no translation', function () {
                var XLIFF = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<xliff version=\"2.0\" xmlns=\"urn:oasis:names:tc:xliff:document:2.0\" srcLang=\"en\">\n  <file original=\"ng.template\" id=\"ngi18n\">\n    <unit id=\"missingtarget\">\n      <segment>\n        <source/>\n      </segment>\n    </unit>\n  </file>\n</xliff>";
                expect(function () {
                    loadAsMap(XLIFF);
                }).toThrowError(/Message missingtarget misses a translation/);
            });
            it('should throw when an unit has no id attribute', function () {
                var XLIFF = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<xliff version=\"2.0\" xmlns=\"urn:oasis:names:tc:xliff:document:2.0\" srcLang=\"en\">\n  <file original=\"ng.template\" id=\"ngi18n\">\n    <unit>\n      <segment>\n        <source/>\n        <target/>\n      </segment>\n    </unit>\n  </file>\n</xliff>";
                expect(function () { loadAsMap(XLIFF); }).toThrowError(/<unit> misses the "id" attribute/);
            });
            it('should throw on duplicate unit id', function () {
                var XLIFF = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<xliff version=\"2.0\" xmlns=\"urn:oasis:names:tc:xliff:document:2.0\" srcLang=\"en\">\n  <file original=\"ng.template\" id=\"ngi18n\">\n    <unit id=\"deadbeef\">\n      <segment>\n        <source/>\n        <target/>\n      </segment>\n    </unit>\n    <unit id=\"deadbeef\">\n      <segment>\n        <source/>\n        <target/>\n      </segment>\n    </unit>\n  </file>\n</xliff>";
                expect(function () {
                    loadAsMap(XLIFF);
                }).toThrowError(/Duplicated translations for msg deadbeef/);
            });
        });
        describe('message errors', function () {
            it('should throw on unknown message tags', function () {
                var XLIFF = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<xliff version=\"2.0\" xmlns=\"urn:oasis:names:tc:xliff:document:2.0\" srcLang=\"en\">\n  <file original=\"ng.template\" id=\"ngi18n\">\n    <unit id=\"deadbeef\">\n      <segment>\n        <source/>\n        <target><b>msg should contain only ph and pc tags</b></target>\n      </segment>\n    </unit>\n  </file>\n</xliff>";
                expect(function () { loadAsMap(XLIFF); })
                    .toThrowError(new RegExp(util_1.escapeRegExp("[ERROR ->]<b>msg should contain only ph and pc tags</b>")));
            });
            it('should throw when a placeholder misses an id attribute', function () {
                var XLIFF = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<xliff version=\"2.0\" xmlns=\"urn:oasis:names:tc:xliff:document:2.0\" srcLang=\"en\">\n  <file original=\"ng.template\" id=\"ngi18n\">\n    <unit id=\"deadbeef\">\n      <segment>\n        <source/>\n        <target><ph/></target>\n      </segment>\n    </unit>\n  </file>\n</xliff>";
                expect(function () {
                    loadAsMap(XLIFF);
                }).toThrowError(new RegExp(util_1.escapeRegExp("<ph> misses the \"equiv\" attribute")));
            });
        });
    });
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieGxpZmYyX3NwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb21waWxlci90ZXN0L2kxOG4vc2VyaWFsaXplcnMveGxpZmYyX3NwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7R0FNRzs7QUFFSCxtREFBd0Q7QUFFeEQsbURBQXdEO0FBQ3hELG1FQUErRDtBQUMvRCwrREFBNEQ7QUFDNUQsa0VBQThEO0FBQzlELG9GQUF5RjtBQUV6RixJQUFNLElBQUksR0FBRyxzb0JBWVosQ0FBQztBQUVGLElBQU0sV0FBVyxHQUFHLG91SUFtR25CLENBQUM7QUFFRixJQUFNLFVBQVUsR0FBRyw0cU9BaUlsQixDQUFDO0FBRUYsQ0FBQztJQUNDLElBQU0sVUFBVSxHQUFHLElBQUksZUFBTSxFQUFFLENBQUM7SUFFaEMsaUJBQWlCLElBQVksRUFBRSxNQUE0QjtRQUE1Qix1QkFBQSxFQUFBLGFBQTRCO1FBQ3pELElBQU0sT0FBTyxHQUFHLElBQUksOEJBQWEsQ0FBQyxJQUFJLHdCQUFVLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNsRSxPQUFPLENBQUMsa0JBQWtCLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxtREFBNEIsQ0FBQyxDQUFDO1FBQzFFLE9BQU8sT0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsbUJBQW1CLEtBQWE7UUFDdkIsSUFBQSxpRUFBZ0IsQ0FBa0M7UUFFekQsSUFBTSxNQUFNLEdBQTJCLEVBQUUsQ0FBQztRQUMxQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDO2FBQ3hCLE9BQU8sQ0FBQyxVQUFBLEVBQUUsSUFBSSxPQUFBLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyx1QkFBYyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVB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