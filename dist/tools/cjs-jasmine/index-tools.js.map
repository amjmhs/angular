{"version":3,"file":"index-tools.js","sourceRoot":"","sources":["../../../tools/cjs-jasmine/index-tools.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAEH,YAAY,CAAC;;AAEb,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,OAAO,CAAC,2BAA2B,CAAC,CAAC;AACrC,IAAM,aAAa,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACzC,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,OAAO,CAAC,uCAAuC,CAAC,CAAC;AACjD,OAAO,CAAC,+BAA+B,CAAC,CAAC;AACzC,OAAO,CAAC,uBAAuB,CAAC,CAAC;AACjC,OAAO,CAAC,2BAA2B,CAAC,CAAC;AACrC,OAAO,CAAC,4BAA4B,CAAC,CAAC;AACtC,OAAO,CAAC,iCAAiC,CAAC,CAAC;AACpC,IAAA,4EAAY,CAAqD;AAKxE,IAAM,OAAO,GAAG,IAAI,aAAa,CAAC,EAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,QAAQ,CAAC,EAAC,CAAC,CAAC;AACtF,MAAc,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC;AAC7C,OAAO,CAAC,+BAA+B,CAAC,CAAC;AAEzC,wDAAwD;AAClD,KAAM,CAAC,iBAAiB,CAAC,GAAG,QAAQ,CAAC;AAE3C,yBAAyB;AACzB,OAAO,CAAC,OAAO,CAAC,wBAAwB,GAAG,GAAG,CAAC;AAC/C,OAAO,CAAC,UAAU,CAAC;IACjB,MAAM,EAAE,IAAI;IACZ,QAAQ,EAAE,EAAE;CACb,CAAC,CAAC;AACH,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,yBAAyB,CAAC,CAAC,CAAC;AACtD,OAAO,CAAC,wBAAwB,CAAC,EAAC,UAAU,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC;AAC1F,OAAO,CAAC,UAAU,CAAC,UAAC,MAAe,IAAK,OAAA,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAA5B,CAA4B,CAAC,CAAC;AAEtE,iCAAiC;AACjC,IAAM,OAAO,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;AAC9B,IAAM,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAC9C,IAAM,KAAK,GAAG,CAAC,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;AAC3F,IAAM,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,UAAA,OAAO,IAAI,OAAA,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAC,GAAG,EAAE,OAAO,EAAC,CAAa,EAA9C,CAA8C,CAAC;KAC/D,MAAM,CAAC,UAAC,QAAQ,EAAE,KAAK,IAAK,OAAA,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,EAAtB,CAAsB,EAAE,EAAE,CAAC,CAAC;AAE/E,8BAA8B;AAC9B,IAAM,cAAc,GAAG,UAAC,YAAoB,IAAK,OAAA,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,EAAzC,CAAyC,CAAC;AAC3F,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;AAElC,gBAAgB;AAChB,OAAO,CAAC,OAAO,EAAE,CAAC","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n'use strict';\n\nconst glob = require('glob');\nrequire('zone.js/dist/zone-node.js');\nconst JasmineRunner = require('jasmine');\nconst path = require('path');\nrequire('zone.js/dist/long-stack-trace-zone.js');\nrequire('zone.js/dist/task-tracking.js');\nrequire('zone.js/dist/proxy.js');\nrequire('zone.js/dist/sync-test.js');\nrequire('zone.js/dist/async-test.js');\nrequire('zone.js/dist/fake-async-test.js');\nconst {generateSeed} = require('../../../tools/jasmine-seed-generator');\n\n// Let TypeScript know this is a module\nexport {};\n\nconst jrunner = new JasmineRunner({projectBaseDir: path.resolve(__dirname, '../../')});\n(global as any)['jasmine'] = jrunner.jasmine;\nrequire('zone.js/dist/jasmine-patch.js');\n\n// Turn on full stack traces in errors to help debugging\n(<any>Error)['stackTraceLimit'] = Infinity;\n\n// Config the test runner\njrunner.jasmine.DEFAULT_TIMEOUT_INTERVAL = 100;\njrunner.loadConfig({\n  random: true,\n  spec_dir: '',\n});\njrunner.seed(generateSeed('cjs-jasmine/index-tools'));\njrunner.configureDefaultReporter({showColors: process.argv.indexOf('--no-color') === -1});\njrunner.onComplete((passed: boolean) => process.exit(passed ? 0 : 1));\n\n// Support passing multiple globs\nconst rootDir = process.cwd();\nconst globsIndex = process.argv.indexOf('--');\nconst globs = (globsIndex === -1) ? [process.argv[2]] : process.argv.slice(globsIndex + 1);\nconst specFiles = globs.map(globstr => glob.sync(globstr, {cwd: rootDir}) as string[])\n                      .reduce((allPaths, paths) => allPaths.concat(paths), []);\n\n// Load helpers and spec files\nconst rootDirRequire = (relativePath: string) => require(path.join(rootDir, relativePath));\nspecFiles.forEach(rootDirRequire);\n\n// Run the tests\njrunner.execute();\n"]}